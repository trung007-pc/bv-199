@page "/document-file"
@attribute [Authorize(Roles = "ADMIN")]
@using ButtonType = Radzen.ButtonType
@inject DocumentFileService _documentFileService;
@inherits BaseBlazorPage
@using Core.Const
@using Microsoft.AspNetCore.Components
@using WebClient.Service.DocumentFiles
@using Contract.DocumentFiles;
@using Contract.FileFolders
@using WebClient.Service.Departments
@using WebClient.Service.FileFolders
@using WebClient.Service.FileTypes
@using WebClient.Service.IssuingAgencys
@using WebClient.Service.Upload
@using Variant = Radzen.Variant
@using DialogOptions = Radzen.DialogOptions
@using DialogService = Radzen.DialogService
@using Contract.Departments
@using Contract.Identity.UserManager
@using WebClient.Service.SendingFiles
@using WebClient.Service.Users
@inject FileFolderService _fileFolderService;
@inject IssuingAgencyService _issuingAgencyService;
@inject FileTypeService _fileTypeService;
@inject UploadService _uploadService;
@inject IJSRuntime JS
@inject NavigationManager _navigationManager;
@inject DialogService DialogService
@inject DepartmentService _departmentService;
@inject UserManagerService _userManagerService;
@inject SendingFileService _sendingFileService;
<div style="display: flex;justify-content: space-between;align-items: center;margin-bottom: 10px">
    <div>
        <RadzenBreadCrumb >
            <RadzenBreadCrumbItem Path="/" Icon="home" Style="font-size: 20px"/>
            <RadzenBreadCrumbItem Text="@HeaderTitle" Style="font-weight: 300"/>
        </RadzenBreadCrumb>
    </div>
    <div>
        <RadzenButton Text="Create" Click="@ShowNewModal" Icon="post_add"/>
    </div>
</div>

<RadzenCard>
    <Blazorise.Row Style="display:flex;align-items: center">
        <Blazorise.Column ColumnSize="ColumnSize.Is2" Style="display:flex;align-items: center">
            <RadzenIcon Icon="calendar_today" Style="margin-right: 7px;font-size: 28px;color: deeppink"/>
            <DateRangePicker @bind-StartDate="Timeline.StartDay"
                             @bind-EndDate="Timeline.EndDay" Ranges="DateRanges" DateFormat="@DateFormatType.DateFormat" OnClosed="OnChangedDate" class="form-control form-control-md" placeholder="Select Date...">
            </DateRangePicker>
        </Blazorise.Column>

        <Blazorise.Column ColumnSize="ColumnSize.Is2" Style="display:flex;align-items: center">
            <RadzenDropDown AllowClear="true" AllowFiltering="true" FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                            @bind-Value=@Filter.IssuingAgencyId Multiple="false"
                            Change="OnChangeSelectedAgency"
                            TextProperty="Name"
                            ValueProperty="Id"
                            Placeholder="Select Agency"
                            Data=@HierarchicalIssuingAgencies
                            Class="w-100"/>
        </Blazorise.Column>

        <Blazorise.Column ColumnSize="ColumnSize.Is2" Style="display:flex;align-items: center">

            <RadzenDropDown AllowClear="true" AllowFiltering="true" FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                            @bind-Value=@Filter.FileTypeId Multiple="false"
                            TextProperty="Name"
                            Change="OnChangeSelectedType"
                            ValueProperty="Id"
                            Placeholder="Select Type"
                            Data=@FileTypes
                            Class="w-100"/>
        </Blazorise.Column>


        <Blazorise.Column ColumnSize="ColumnSize.Is6" Style="display:flex;align-items: center">

            <div class="search-input">
                <RadzenTextBox Trim="true" Placeholder="Search..." @onkeyup="async (ars) => await OnEnterKeyPressed(ars)" @bind-Value="Filter.Text" class="w-100" Style="border: none;outline: none"/>
            </div>
            <RadzenButton Click="@GetDocumentFiles" Icon="search" Style="border-radius: 0"/>

        </Blazorise.Column>

    </Blazorise.Row>
</RadzenCard>

<RadzenCard>


    <Blazorise.Row>
        <Blazorise.Column ColumnSize="ColumnSize.Is2">
            <RadzenTree Data=@FolderTree Change="OnChangeSelectedFolder" Style="width:100%">
                <RadzenTreeLevel TextProperty="Name" ChildrenProperty="ChildFolders"
                                 HasChildren=@(e => (e as FileFolderDto).ChildFolders.Any())
                                 Expanded="@(value => true)">
                    <Template >
                        <div style="display: flex;width:100%;justify-content: space-between;align-items: center" @ondblclick="async () => { await GetDocumentFiles(); }">
                            <div style="display: flex">
                                <RadzenIcon Icon="folder"/>
                                <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3" Style="margin-bottom: 0">@context.Text</RadzenText>
                            </div>
                        </div>

                    </Template>
                </RadzenTreeLevel>
            </RadzenTree>

        </Blazorise.Column>

        <Blazorise.Column ColumnSize="ColumnSize.Is10">

            <RadzenDataGrid AllowFiltering="true" AllowColumnResize="true" AllowAlternatingBlazorise.Rows="false" AllowSorting="true" PageSize="20" AllowPaging="true" PagerHorizontalAlign="HorizontalAlign.Left" ShowPagingSummary="true"
                            Data="@DocumentFileWithNavProperties" TItem="DocumentFileWithNavPropertiesDto" ColumnWidth="300px"
                            AllowColumnPicking="true"
                            PageSizeOptions="PageSizeOptions"
                            Style="width: 100%">
                <Columns>
                    <RadzenDataGridColumn TItem="DocumentFileWithNavPropertiesDto" Property="File.Name" TextAlign="TextAlign.Center" Title="Name" Width="160px"/>
                    <RadzenDataGridColumn TItem="DocumentFileWithNavPropertiesDto" Property="File.Code" TextAlign="TextAlign.Center" Title="Code" Width="160px"/>
                    <RadzenDataGridColumn TItem="DocumentFileWithNavPropertiesDto" Property="File.StorageCode" TextAlign="TextAlign.Center" Title="Storage Code" Width="160px"/>
                    <RadzenDataGridColumn TItem="DocumentFileWithNavPropertiesDto" Property="IssuingAgency.Name" TextAlign="TextAlign.Center" Title="Agency" Width="160px"/>
                    <RadzenDataGridColumn TItem="DocumentFileWithNavPropertiesDto" Property="FileType.Name" TextAlign="TextAlign.Center" Title="Type" Width="160px"/>

                    <RadzenDataGridColumn TItem="DocumentFileWithNavPropertiesDto" Property="File.PublicationDate" TextAlign="TextAlign.Center" Title="Publication Date" Width="160px">
                        <Template Context="data">
                            @($"{data.File.PublicationDate:dd/MM/yyyy}")
                        </Template>
                    </RadzenDataGridColumn>

                    <RadzenDataGridColumn TItem="DocumentFileWithNavPropertiesDto" Property="File.CreationDate" TextAlign="TextAlign.Center" Title="Received Date" Width="160px">
                        <Template Context="data">
                            @($"{data.File.CreationDate:dd/MM/yyyy}")
                        </Template>
                    </RadzenDataGridColumn>
                    <RadzenDataGridColumn TItem="DocumentFileWithNavPropertiesDto" Property="File.Name" Title="Action" TextAlign="TextAlign.Center" Filterable="false">
                        <Template Context="data">

                            <RadzenButton ButtonStyle="ButtonStyle.Primary" Icon="send" Click="async () => { await ShowSendingFileDialog(data.File);}" Variant="Variant.Flat" Shade="Shade.Lighter" Size="ButtonSize.Medium" Class="my-1 ms-1">
                            </RadzenButton>
                            <RadzenButton ButtonStyle="ButtonStyle.Light" Icon="remove_red_eye" Click="() => { ShowViewModal(data.File); }" Variant="Variant.Flat" Shade="Shade.Default" Size="ButtonSize.Medium" Class="my-1 ms-1">
                            </RadzenButton>

                            <RadzenButton Icon="edit" Click="async () => { await ShowEditingModal(data.File); }" ButtonStyle="ButtonStyle.Light" Variant="Variant.Flat" Size="ButtonSize.Medium">
                            </RadzenButton>
                            <RadzenButton ButtonStyle="ButtonStyle.Danger" Click="async () => { await ShowConfirmMessage(data.File.Id); }" Icon="delete" Variant="Variant.Flat" Shade="Shade.Lighter" Size="ButtonSize.Medium" Class="my-1 ms-1">
                            </RadzenButton>
                        </Template>
                    </RadzenDataGridColumn>
                </Columns>
            </RadzenDataGrid>
        </Blazorise.Column>
    </Blazorise.Row>


</RadzenCard>


<Modal @ref="CreateModal">
    <ModalContent Size="ModalSize.ExtraLarge" Centered="true">
        <ModalHeader>
            <ModalTitle>DocumentFile</ModalTitle>
        </ModalHeader>
        <EditForm Model="NewDocumentFile" OnValidSubmit="async () => { await CreateDocumentFile(); }">
            <ModalBody>
                <Blazorise.Row>
                    <DataAnnotationsValidator/>

                    <Blazorise.Column ColumnSize="ColumnSize.Is6.OnDesktop">
                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Name</RadzenText>
                        <RadzenTextBox Class="w-100" @bind-Value="NewDocumentFile.Name"/>
                        <ValidationMessage For="@(() => NewDocumentFile.Name)"/>

                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Code</RadzenText>
                        <RadzenTextBox Class="w-100" @bind-Value="NewDocumentFile.Code"/>
                        <ValidationMessage For="@(() => NewDocumentFile.Code)"/>


                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Publication Date</RadzenText>
                        <RadzenDatePicker @bind-Value=@NewDocumentFile.PublicationDate DateFormat="dd/MM/yyyy" Class="w-100"/>
                        <ValidationMessage For="@(() => NewDocumentFile.PublicationDate)"/>

                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">File Types</RadzenText>
                        <RadzenDropDown AllowClear="true" AllowFiltering="true" FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                        @bind-Value=@NewDocumentFile.DocumentTypeId Multiple="false"
                                        TextProperty="Name"
                                        ValueProperty="Id"
                                        Placeholder="Select..."
                                        Data=@FileTypes
                                        Class="w-100"/>
                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Issuing Agencies</RadzenText>

                        <RadzenDropDown AllowClear="true" AllowFiltering="true" FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                        @bind-Value=@NewDocumentFile.IssuingAgencyId Multiple="false"
                                        TextProperty="Name"
                                        ValueProperty="Id"
                                        Placeholder="Select..."
                                        Data=@HierarchicalIssuingAgencies
                                        Class="w-100"/>

                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Folders</RadzenText>

                        <RadzenDropDown AllowClear="true" AllowFiltering="true" FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                        @bind-Value=@NewDocumentFile.DocumentFolderId Multiple="false"
                                        TextProperty="Name"
                                        ValueProperty="Id"
                                        Placeholder="Select..."
                                        Data=@HierarchicalFileFolders
                                        Class="w-100"/>


                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Choose File</RadzenText>

                        <RZInputFile Icon="upload_file"
                                     Accept=".pdf, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet
                                                        , application / msword, application / vnd.openxmlformats - officedocument.wordprocessingml.document"
                                     Style="display: flex;align-items: center;min-width:123px;max-width: 205px;margin: 0;cursor: pointer;background-color: #dc3545"
                                     Text="Choose An  File" Event="async (e) => { await OnChangeFileAtNewModal(e); }">
                        </RZInputFile>


                    </Blazorise.Column>

                    <Blazorise.Column ColumnSize="ColumnSize.Is6.OnDesktop">
                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Received Date</RadzenText>
                        <RadzenDatePicker Class="w-100" DateFormat="dd/MM/yyyy" @bind-Value="NewDocumentFile.CreationDate"/>
                        <ValidationMessage For="@(() => NewDocumentFile.CreationDate)"/>

                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Is Print</RadzenText>
                        <RadzenSwitch @bind-Value="NewDocumentFile.IsPrint"/>
                        <ValidationMessage For="@(() => NewDocumentFile.IsPrint)"/>

                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Note</RadzenText>
                        <RadzenTextArea Class="w-100" Placeholder="Nhập vào đây..." @bind-Value="NewDocumentFile.Note" Blazorise.Rows="10" Cols="30"/>
                        <ValidationMessage For="@(() => NewDocumentFile.Note)"/>
                    </Blazorise.Column>
                    <Blazorise.Column ColumnSize="ColumnSize.Is12.OnDesktop">

                    </Blazorise.Column>
                </Blazorise.Row>


            </ModalBody>
            <ModalFooter>
                <RadzenButton ButtonStyle="ButtonStyle.Light" Icon="cancel" Click="@HideNewModal" Text="Cancel"/>
                <RadzenButton Text="Save Changes" Icon="save" ButtonType="ButtonType.Submit"/>
            </ModalFooter>
        </EditForm>
    </ModalContent>
</Modal>

<Modal @ref="EditingModal">
    <ModalContent Size="ModalSize.Large" Centered="true">
        <ModalHeader>
            <ModalTitle>Document File</ModalTitle>
        </ModalHeader>
        <EditForm Model="EditingDocumentFile" OnValidSubmit="async () => { await UpdateDocumentFile(); }">
            <ModalBody>
                <DataAnnotationsValidator/>
                <Blazorise.Row>
                    <Blazorise.Column ColumnSize="ColumnSize.Is6.OnDesktop">
                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Name</RadzenText>
                        <RadzenTextBox Class="w-100" @bind-Value="EditingDocumentFile.Name"/>
                        <ValidationMessage For="@(() => EditingDocumentFile.Name)"/>

                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Code</RadzenText>
                        <RadzenTextBox Class="w-100" @bind-Value="EditingDocumentFile.Code"/>
                        <ValidationMessage For="@(() => EditingDocumentFile.Code)"/>


                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Publication Date</RadzenText>
                        <RadzenDatePicker @bind-Value=@EditingDocumentFile.PublicationDate DateFormat="dd/MM/yyyy" Class="w-100"/>
                        <ValidationMessage For="@(() => EditingDocumentFile.PublicationDate)"/>

                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">File Types</RadzenText>
                        <RadzenDropDown AllowClear="true" AllowFiltering="true" FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                        @bind-Value=@EditingDocumentFile.DocumentTypeId Multiple="false"
                                        TextProperty="Name"
                                        ValueProperty="Id"
                                        Placeholder="Select..."
                                        Data=@FileTypes
                                        Class="w-100"/>
                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Issuing Agencies</RadzenText>

                        <RadzenDropDown AllowClear="true" AllowFiltering="true" FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                        @bind-Value=@EditingDocumentFile.IssuingAgencyId Multiple="false"
                                        TextProperty="Name"
                                        ValueProperty="Id"
                                        Placeholder="Select..."
                                        Data=@HierarchicalIssuingAgencies
                                        Class="w-100"/>

                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Folders</RadzenText>

                        <RadzenDropDown AllowClear="true" AllowFiltering="true" FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                        @bind-Value=@EditingDocumentFile.DocumentFolderId Multiple="false"
                                        TextProperty="Name"
                                        ValueProperty="Id"
                                        Placeholder="Select..."
                                        Data=@HierarchicalFileFolders
                                        Class="w-100"/>


                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Choose File</RadzenText>

                        <div style="display: flex;justify-content: space-between">
                            <RZInputFile Icon="upload_file"
                                         Accept=".pdf,.xlsx,.doc,.docx"

                                         Style="display: flex;align-items: center;min-width:123px;max-width: 205px;margin: 0;cursor: pointer;background-color: #dc3545"
                                         Text="Choose An Excel File" Event="async (e) => { await OnChangeFileAtEditingModal(e); }">
                            </RZInputFile>

                            @if (EditingDocumentFile.Extentions == ".xlsx"
                                 || EditingDocumentFile.Extentions == ".doc")
                            {
                                <RadzenButton Text="Download File" Click="async () => { await DownloadFile(EditingDocumentFile.URL, EditingDocumentFileId); }" Icon="download"/>
                            }
                        </div>

                    </Blazorise.Column>

                    <Blazorise.Column ColumnSize="ColumnSize.Is6.OnDesktop">
                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Received Date</RadzenText>
                        <RadzenDatePicker Class="w-100" DateFormat="dd/MM/yyyy" @bind-Value="NewDocumentFile.CreationDate"/>
                        <ValidationMessage For="@(() => EditingDocumentFile.CreationDate)"/>

                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Is Print</RadzenText>
                        <RadzenSwitch @bind-Value="NewDocumentFile.IsPrint"/>
                        <ValidationMessage For="@(() => EditingDocumentFile.IsPrint)"/>

                        <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3">Note</RadzenText>
                        <RadzenTextArea Class="w-100" Placeholder="Nhập vào đây..." @bind-Value="EditingDocumentFile.Note" Blazorise.Rows="10" Cols="30"/>
                        <ValidationMessage For="@(() => EditingDocumentFile.Note)"/>
                    </Blazorise.Column>

                    <RZBR></RZBR>
                    <Blazorise.Column ColumnSize="ColumnSize.Is12.OnDesktop">

                    </Blazorise.Column>
                </Blazorise.Row>


            </ModalBody>
            <ModalFooter>
                <RadzenButton ButtonStyle="ButtonStyle.Light" Icon="cancel" Click="@HideEditingModal" Text="Cancel"/>
                <RadzenButton Text="Save Changes" Icon="save" ButtonType="ButtonType.Submit"/>
            </ModalFooter>
        </EditForm>
    </ModalContent>
</Modal>

<Modal @ref="ViewModal">
    <ModalContent Size="ModalSize.ExtraLarge" Centered="true">
        <ModalHeader>
            <ModalTitle>Document File</ModalTitle>
        </ModalHeader>
        <ModalBody>
            <div style="display: flex;justify-content:left;gap: 10px">
                <RadzenButton Text="Download File" Click="() => { DownloadFile(ViewDocumentFile.URL, ViewDocumentFile.Id); }" Icon="download"/>
                <RadzenButton Text="Print" Icon="local_printshop"/>
                <RadzenButton Text="Task Assignment" Icon="assignment"/>
            </div>
            <RZBR></RZBR>
            <div>
                @if (ViewDocumentFile.Extentions?.Contains("pdf") == true)
                {
                    if (!ViewDocumentFile.URL.IsNullOrWhiteSpace())
                    {
                        <iframe src="@ViewDocumentFile.URL#toolbar=0" type="application/pdf" style="width: 100%;height: 80vh;"></iframe>
                    }
                }
                else
                {
                    <RadzenCard Style="background-color: #e8e8fa">
                        <RadzenText TextStyle="TextStyle.H4" Style="color: #6f42c1">
                            <b>File Infomation</b>
                        </RadzenText>
                        <RadzenText TextStyle="TextStyle.Body1">
                            <span Style="color: #6f42c1">File Name:</span>@ViewDocumentFile.Name
                        </RadzenText>
                        <RadzenText TextStyle="TextStyle.Body1">
                            <span Style="color: #6f42c1">File Type:</span>@ViewDocumentFile.Extentions
                        </RadzenText>
                        <RadzenText TextStyle="TextStyle.Body1">
                            <span Style="color: #6f42c1">Download Count:</span>@ViewDocumentFile.DownloadCount
                        </RadzenText>
                        <RadzenText TextStyle="TextStyle.Body1"><span Style="color: #6f42c1">Print Count:</span>@ViewDocumentFile.PrintCount:</RadzenText>

                    </RadzenCard>
                }
            </div>

        </ModalBody>

        <ModalFooter>
            <RadzenButton ButtonStyle="ButtonStyle.Light" Icon="cancel" Click="@HideViewModal" Text="Cancel"/>
            <RadzenButton Text="Save Changes" Icon="save" ButtonType="ButtonType.Submit"/>
        </ModalFooter>
    </ModalContent>
</Modal>


@* Sending - FIle *@

@code{


    async Task ShowSendingFileDialog(DocumentFileDto dto)
    {
        //reset
        SelectedDepartments = new List<DepartmentDto>();
        SelectedUsers = new List<Guid>();
        
        
        
        
        
        var result = await DialogService.OpenAsync("Bạn có muốn góp ý kiến vào các bộ phận?", ds =>
            @<div style="overflow: hidden">

                  <RadzenAlert AlertStyle="AlertStyle.Success" ShowIcon="true" Variant="Variant.Flat" Shade="Shade.Lighter">
                                       Number:@dto.Code|Name:@dto.Name|Storage Number :@dto.StorageCode</RadzenAlert>

                <RadzenRow  Gap="10" >
                    <RadzenColumn Size="5">
                        <RadzenText>Send By Department</RadzenText>
                        <RadzenTree Data=@HierarchicalDepartments Style="width:100%"
                                    AllowCheckBoxes="true"
                                    @bind-CheckedValues="SelectedDepartments">
                            <RadzenTreeLevel TextProperty="Name" ChildrenProperty="ChildDepartment"
                                             Expanded="@(value => true)"
                                             HasChildren=@(e => (e as DepartmentDto).ChildDepartment.Any())>
                                <Template Context="data">
                                    <div style="display: flex;width:100%;justify-content: space-between;align-items: center">
                                        <div style="display: flex">
                                            <RadzenIcon Icon="home_work"/>
                                            <RadzenText TextStyle="TextStyle.Subtitle2" TagName="TagName.H3" Style="margin-bottom: 0">@data.Text</RadzenText>
                                        </div>

                                    </div>

                                </Template>
                            </RadzenTreeLevel>
                        </RadzenTree>
                    </RadzenColumn>
                    <RadzenColumn Size="5" >
                        <RadzenText>Send By Identity</RadzenText>
                        <RadzenDropDownDataGrid Multiple="true"
                                                Style="width: 70%"
                                                AllowClear="true" AllowFiltering="true"
                                                Chips="true"
                                                FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                                TextProperty="FullName"
                                                ValueProperty="Id"
                                                @bind-Value="SelectedUsers"
                                                Data=@Users>

                            <Columns>
                                <RadzenDropDownDataGridColumn Width="60px" Sortable="false">
                                    <Template Context="data">
                                        <RadzenCheckBox TriState="false" Value="@(SelectedUsers.Any(x => x == ((UserDto) data).Id))"
                                                        TValue="bool"/>
                                    </Template>
                                </RadzenDropDownDataGridColumn>
                                <RadzenDropDownDataGridColumn Property="FullName" Title="Full Name" Width="200px"/>
                                <RadzenDropDownDataGridColumn Property="PhoneNumber" Title="Phone Number" Width="200px"/>
                                <RadzenDropDownDataGridColumn Property="EmployeeCode" Title="Employee Code" Width="200px"/>
                            </Columns>


                        </RadzenDropDownDataGrid>

                    </RadzenColumn>
                </RadzenRow>


                <div class="Row" style="float: right">
                    <div class="col">
                        <RadzenButton Text="Ok" Class="me-1" Style="width: 80px;"/>
                        <RadzenButton Text="Cancel" Click="() => ds.Close(false)" ButtonStyle="ButtonStyle.Light" Class="me-1"/>
                    </div>
                </div>
            </div>, new DialogOptions() {Width = "90vw", Style = "", ShowTitle = false});
    }



}